@import "tailwindcss";
@plugin "@tailwindcss/typography";

/* 1) App-level variables that React is allowed to mutate */
:root {
  --app-color-primary: #fffbee;
  --app-color-secondary: #242424;
}

/* Initial dark preference only; actual switching is done by your ThemeProvider */
@media (prefers-color-scheme: dark) {
  :root {
    color-scheme: dark;
    --app-color-primary: #242424;
    --app-color-secondary: #fffbee;
  }
}

.squiggly {
  text-decoration: none;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='40' height='6' viewBox='0 0 40 6' shape-rendering='geometricPrecision'%3E%3Cpath d='M0 3 Q 1.5 1 3 3 T 6 3 T 9 3 T 12 3 T 15 3 T 18 3 T 21 3 T 24 3 T 27 3 T 30 3 T 33 3 T 36 3 T 39 3' fill='none' stroke='inherit' stroke-width='1.25' stroke-linecap='round'/%3E%3C/svg%3E");
  background-repeat: repeat-x;
  background-size: 40px 6px;
  background-position: 0 100%;
  padding-bottom: 5px;
}

.prose {
  --tw-prose-body: inherit;
  --tw-prose-headings: inherit;
  --tw-prose-lead: inherit;
  --tw-prose-links: inherit;
  --tw-prose-bold: inherit;
  --tw-prose-counters: inherit;
  --tw-prose-bullets: inherit;
  --tw-prose-hr: inherit;
  --tw-prose-quotes: inherit;
  --tw-prose-quote-borders: inherit;
  --tw-prose-captions: inherit;
  --tw-prose-code: inherit;
  --tw-prose-pre-code: inherit;
  --tw-prose-pre-bg: inherit;
  --tw-prose-th-borders: inherit;
  --tw-prose-td-borders: inherit;
}

/* 2) Tailwind theme tokens â€“ this replaces theme.extend in tailwind.config */
@theme inline {
  /* Colors: create text-primary, bg-primary, etc. */
  --color-primary: var(--app-color-primary);
  --color-secondary: var(--app-color-secondary);

  /* Extra colors you had: light, grey, red */
  --color-light: #fffbee;
  --color-grey: #8C8C8C;
  --color-red: #DA291C;

  /* Fonts from next/font */
  --font-suisse: var(--font-suisse-intl);   /* class: font-suisse */
  --font-piazzolla: var(--font-piazzolla);  /* class: font-piazzolla */

  /* Spacing equivalents to your extend.spacing */
  --spacing-ch: 1ch;        /* p-ch, m-ch, w-ch, etc. */
  --spacing-1200: 1200px;   /* w-1200, max-w-1200, etc. */

  /* Background images */
  --background-image-checkmark: url(/checkmark.svg);  /* bg-checkmark */
  --background-image-gradient-radial: radial-gradient(var(--tw-gradient-stops));
  --background-image-gradient-conic: conic-gradient(from 180deg at 50% 50%, var(--tw-gradient-stops));

  /* Font weights so font-bold etc. work and can be @apply'ed */
  --font-weight-thin: 100;
  --font-weight-extralight: 200;
  --font-weight-light: 300;
  --font-weight-normal: 400;
  --font-weight-medium: 500;
  --font-weight-semibold: 600;
  --font-weight-bold: 700;
  --font-weight-extrabold: 800;
  --font-weight-black: 900;

  /* Animations (replace your keyframes/animation in config)
     animate-growltr, animate-rotate-slow, animate-rotate-fast
     are defined via these tokens. */
  --animate-growltr: growltr 300ms linear 1;
  --animate-rotate-slow: rotate 16s linear infinite;
  --animate-rotate-fast: rotate 8s linear infinite;

  @keyframes rotate {
    0%   { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }

  @keyframes growltr {
    from { width: 0; }
    to   { width: 100%; }
  }
}

/* 3) Your prose-style content using Tailwind utilities */
.content {
  @apply font-suisse;

  h1 {
    @apply font-piazzolla font-bold text-4xl pt-5 pb-5;
  }

  h2 {
    @apply font-piazzolla font-bold text-2xl pt-4 pb-4;
  }

  h3 {
    @apply font-piazzolla font-bold text-xl pt-3 pb-3;
  }

  strong {
    @apply font-piazzolla font-bold text-lg;
  }

  p {
    @apply pt-2 pb-2;

    img {
      @apply inline-block;
    }
  }

  ul,
  ol {
    @apply ml-4;

    li {
      @apply ml-4 marker:font-piazzolla;
    }
  }

  ul li {
    @apply list-[square];
  }

  ol li {
    @apply list-[decimal];
  }

  a {
    @apply underline;
  }

  table {
    @apply border;
  }
}
